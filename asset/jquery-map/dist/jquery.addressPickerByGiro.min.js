function size(e,t){if("undefined"==typeof e)return null;var a,n,s="paddingTop",o="paddingBottom",i="offsetHeight";return"width"==t&&(s="paddingLeft",o="paddingRight",i="offsetWidth"),a=getComputedStyle(e),n=e[i],a&&(n-=parseFloat(a[s])+parseFloat(a[o])),n}var bg=bg||!1;bg||("undefined"!=typeof jQuery?bg=jQuery:"undefined"!=typeof angular&&(bg=angular.element,bg.extend=angular.extend,bg.prototype.closest=function(e){for(var t=this,a=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector;t;){if(a.call(t,e))return t;t=t.parentNode}return!1},bg.prototype.is=function(e){for(var t=0;t<this.length;t++){var a=this[t];if((a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector).call(a,e))return!0}return!1},bg.prototype.find=function(e){var t=this[0],a=[];if(!t||1!==t.nodeType&&9!==t.nodeType||"string"!=typeof e)return[];for(var n=0;n<this.length;n++){var s=this[n],o=bg(s.querySelectorAll(e));a.push.apply(a,o.slice())}return bg(a)},bg.prototype.width=function(){return size(this[0],"width")},bg.prototype.height=function(){size(this[0])})),function(e){"use strict";function t(e,t,a){clearTimeout(i[a]),i[a]=setTimeout(e,t)}function a(t){var a,n=this,t=t||this.addressMapping[this.$element.val()],s=!1;t||(s=!0);for(var o in this.settings.boundElements){var i=this.settings.boundElements[o],r="";if("function"!=typeof i){if(a=e(i),s||!(a.length<0)&&t.cleanData){s||(r="address_components"==o?JSON.stringify(t.cleanData):t.cleanData[o]);for(var d=a.length,l=0;d>l;l++){var g="val",c=a.eq(l);c.is("input, select, textarea")||(g="text"),c[g](r||"")}}}else r=i.call(n,t)}n.removeSuggestions(),s||n.$element.triggerHandler("selected.addressPickerByGiro",t)}function n(){var t=this,a=t.settings,n=e.extend({},a.mapOptions);n.center=new google.maps.LatLng(n.center[0],n.center[1]);var s={position:n.center,draggable:!0,raiseOnDrag:!0,map:t.gmap,labelContent:a.text.you_are_here,labelAnchor:new google.maps.Point(0,0),labelClass:a.markerLabelClass,labelStyle:{opacity:1}};if("styled"==a.markerType&&"function"==typeof StyledMarker){var o=new StyledIcon(StyledIconTypes.BUBBLE,{color:"#51A351",fore:"#ffffff",text:a.text.you_are_here});s.styleIcon=o,t.gmarker=new StyledMarker(s)}else t.gmarker="labeled"==a.markerType&&"function"==typeof MarkerWithLabel?new MarkerWithLabel(s):new google.maps.Marker(s);google.maps.event.addListener(t.gmarker,"dragend",function(){t.geocodeLookup(t.gmarker.getPosition(),!1,"latLng",!0)}),google.maps.event.addListener(t.gmap,"click",function(e){t.gmarker.setPosition(e.latLng),t.geocodeLookup(e.latLng,!1,"latLng",!0),t.resizeMap()}),this.gmarker.setVisible(!1)}function s(){var t,a=this,n=a.settings,s=e.extend({},n.mapOptions);s.center=new google.maps.LatLng(s.center[0],s.center[1]),t&&(t=1e3*t),t=t||n.distanceWidgetRadius;var o=new google.maps.Circle({center:s.center,radius:t,strokeColor:"#005DE0",strokeOpacity:.8,strokeWeight:2,fillColor:"#005DE0",fillOpacity:.25,map:a.gmap}),i=function(){o.setEditable(!0)},r=function(){o.setEditable(!1)};a.gcircle=o,a.gcircle.setVisible(!1),google.maps.event.addListener(a.gcircle,"radius_changed",function(){a.updater()}),google.maps.event.addListener(a.gcircle,"mouseover",i),google.maps.event.addListener(a.gcircle,"mouseout",r),a.gcircle.bindTo("center",a.gmarker,"position")}var o,i={};o={init:function(a,n){function s(e){i(!0,e)}function o(e){i(!1,e)}function i(e,a){"undefined"!=typeof e&&t(function(){if(e){if(g.addClass("mouseishover"),!r.$element.is(":focus"))return;r.$mapBox.addClass("map-active"),r.resizeMap(),""!=r.$element.val()&&g.hasClass("invalid-address")&&r.showSuggestions()}else{if("mouseout"==a.type&&g.removeClass("mouseishover"),g.hasClass("mouseishover")||r.$element.is(":focus"))return;r.removeSuggestions(),r.$mapBox.removeClass("map-active")}},50,"showHide")}var r=this;r.defaults={showMap:!1,map:!1,mapId:!1,mapWidth:"100%",mapHeight:"300px",mapOptions:{zoom:7,zoomNoValue:1,center:[51.751724,-1.255284],scrollwheel:!1,mapTypeId:"roadmap"},makerType:!1,distanceWidget:!1,distanceWidgetRadius:3e4,appendToAddressString:"",geocoderOptions:{language:"en"},searchInitialValue:!0,boundElements:{},text:{you_are_here:"You are here!",valid:"Valid Gmaps address",invalid:"Invalid Gmaps address"},map_rendered:!1},r.$element=a,r.settings=e.extend({},r.defaults,n);var d=r.settings;r.addressMapping={},r.currentItem="",r.geocoder=new google.maps.Geocoder,r.$element.wrap('<div class="ap-container '+(d.showMap?"":"ap-type-hidden")+'"></div>'),r.$element.wrap('<div class="ap-input-cont"></div>'),r.$element.after('<span class="ap-status-address"><span class="icon-ap"></span><span class="text-ap"></span></span>'),r.$mainCont=r.$element.parent().parent(),r.initMap.call(r);var l=r.$mainCont[0],g=r.$mainCont;l.addEventListener("focus",s,!0),l.addEventListener("blur",o,!0),l.addEventListener("mouseover",s,!0),l.addEventListener("mouseout",o,!0),g.on("keyup",function(){var e="addClass",t=d.text.invalid,a=r.$element.val(),n=!1;r.address&&a.trim()==r.address.formatted_address||(g.removeClass("valid-address"),""==a&&(e="removeClass",t="",n=void 0),g[e]("invalid-address"),g.find(".ap-status-address .text-ap").text(t),r.valid=n,delete r.address,r.showSuggestions())}).on("click",function(t){var a=e(t.target);return a.is(".suggestions-container li")?(r.geocodeLookup(a.text(),!1,"",!0),t.stopPropagation(),void r.removeSuggestions()):void s(t)}),e(document).on("click",function(t){var a=e(t.target);if(!a.is(".suggestions-container li")){var n=a.closest(g[0]);n.length&&n.is(g[0])||r.removeSuggestions()}}),d.searchInitialValue&&""!=r.$element.val()&&r.geocodeLookup(r.$element.val(),!1,"",!0)},initMap:function(){var t,a,o=this,i=o.settings;return i.mapId||i.map instanceof google.maps.Map?o.$mapBox=e(i.mapId):(i.mapId=(new Date).getTime()+Math.floor(9999999*Math.random()+1),o.$mapBox=e('<div class="map-box" style="width: '+i.mapWidth+"; height: "+i.mapHeight+';" id="'+i.mapId+'"></div>'),o.$mainCont.append(o.$mapBox)),t=o.$mapBox.removeClass("map-active"),1==o.map_rendered?void o.resizeMap.call(o):(a=i.mapOptions=e.extend({},o.defaults.mapOptions,i.mapOptions),this.settings.map instanceof google.maps.Map?this.gmap=this.settings.map:(a.center=new google.maps.LatLng(a.center[0],a.center[1]),this.gmap=new google.maps.Map(t[0],a)),n.call(this),this.settings.distanceWidget&&s.call(this),void(o.map_rendered=!0))},removeSuggestions:function(){this.$mainCont.find(".suggestions-container").remove()},showSuggestions:function(){var e=this;t(function(){e.geocodeLookup(e.$element.val(),function(){var t='<div class="suggestions-container"><ul>',a=e.$mainCont.find(".suggestions-container");for(var n in this.addressMapping)t+="<li>"+n+"</li>";t+="</ul></div>",a.length&&a.remove(),e.$element.parent().after(t)},!1,!1,!0)},250,"source")},updater:function(e){var t,n,s=this,o=s.settings,e=e||s.$element.val(),i=this.addressMapping[e]||!1,r={};if(i){if(n=i.geometry.location,t={country:{long_name:"country",short_name:"country_code"},administrative_area_level_1:{long_name:"region",short_name:"region_code"},administrative_area_level_2:{long_name:"county",short_name:"county_code"},locality:{long_name:"city"},sublocality:{long_name:"city_district"},postal_code:{long_name:"zip"},route:{long_name:"street"},street_number:{long_name:"street_number"}},i.address_components)for(var d=0;d<i.address_components.length;d++){var l=i.address_components[d];for(var g in t)if(l.types.indexOf(g)>=0)for(var c in t[g])"undefined"!=typeof l[c]&&(r[t[g][c]]=l[c])}return r.latitude=Number(n.lat().toFixed(8)),r.longitude=Number(n.lng().toFixed(8)),r.formatted_address=i.formatted_address,s.gmarker&&(s.gmarker.setPosition(i.geometry.location),s.gmarker.setVisible(!0)),s.gcircle&&(s.gcircle.setCenter(i.geometry.location),s.gcircle.setVisible(!0),r.radius=Math.round(s.gcircle.getRadius())/1e3),s.gmap.fitBounds(s.gcircle?s.gcircle.getBounds():i.geometry.viewport),s.address=i.cleanData=r,s.$mainCont.addClass("valid-address").removeClass("invalid-address").find(".ap-status-address .text-ap").text(o.text.valid),s.valid=!0,a.call(s,i),e}},getAddress:function(){return this.address},reloadAddress:function(){this.setAddress(this.$element.val())},setAddress:function(e){this.geocodeLookup(e,!1,"",!0)},isValid:function(){return this.valid},geocodeLookup:function(t,n,s,o,i){o=o||!1,s=s||"";var r=this,d=r.settings,l=e.extend({},d.geocoderOptions);if(o&&a.call(r),"latLng"==s)"string"==typeof t&&(t=t.split(","),t=new google.maps.LatLng(t[0],t[1])),l.latLng=t;else if(l.address=t+d.appendToAddressString,!i&&"function"==typeof n&&"undefined"!=typeof r.addressMapping[t])return void(o&&r.updater(t));this.geocoder.geocode(l,function(e,t){if(t===google.maps.GeocoderStatus.OK){r.addressMapping={};for(var a=0;a<e.length&&9>a;a++){var s=e[a];r.addressMapping[s.formatted_address]=s}if("function"==typeof n&&n.call(r,e),o){var i=e[0].formatted_address;r.$element.val(i),r.addressMapping[i]=e[0],r.updater(i)}}})},resizeMap:function(a,n){var s=this;t(function(){var t,o=s.settings,i=s.$mapBox?s.$mapBox.parent():e("#"+o.mapId).parent();if(i.length){{var r=i.parent();r.height(),r.width()}t="undefined"!=typeof a&&"undefined"!=typeof n?new google.maps.LatLng(a,n):s.gmap.getCenter();var d=s.$element.val()?o.mapOptions.zoom:o.mapOptions.zoomNoValue;s.gmap.setZoom(d),google.maps.event.trigger(s.gmap,"resize"),s.gmap.setCenter(t)}},300,"resize")},setRadius:function(e){var t=this;t.gcircle&&(t.gcircle.setRadius(1e3*e),t.gmap.fitBounds(t.gcircle.getBounds()))}};var r=function(t){var a=this.data("addressPickerByGiro");if(a)return"string"==typeof t&&a[t]?a[t].apply(a,Array.prototype.slice.call(arguments,1)):console.log("Method "+t+" does not exist on jQuery.addressPickerByGiro");if(!t||"object"==typeof t){for(var n=this.length,s=0;n>s;s++){var i=e(this[s]);a=e.extend({},o),a.init(i,t),i.data("addressPickerByGiro",a)}return this}return console.log('jQuery.addressPickerByGiro is not instantiated. Please call $("selector").addressPickerByGiro({options})')};e.fn?e.fn.addressPickerByGiro=r:e.prototype.addressPickerByGiro=r}(bg);